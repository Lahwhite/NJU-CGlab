要实现符合要求的图形化界面（GUI）程序，结合项目需求和现有`CG_demo/cg_gui.py`的基础，需要补充以下关键内容：


### 1. **完善绘制功能，覆盖所有图元类型**
现有代码仅初步实现了线段（`line`）的绘制逻辑，但未覆盖所有要求的图元，需补充：
- **多边形（Polygon）**：支持通过鼠标连续点击确定多个顶点，完成后闭合图形，实现`DDA`和`Bresenham`算法绘制。
- **椭圆（Ellipse）**：通过鼠标拖拽确定包围框对角顶点，调用椭圆生成算法（中点椭圆法）绘制。
- **曲线（Curve）**：支持`Bezier`和`B-spline`（三次均匀）算法，通过鼠标点击确定多个控制点，实时预览曲线形状。


### 2. **实现编辑操作（平移、旋转、缩放、裁剪）**
现有代码未实现任何编辑功能，需针对选中的图元补充：
- **平移（Translate）**：
  - 触发方式：菜单栏选择“平移”后，通过鼠标拖拽图元或弹出对话框输入平移向量（`dx, dy`）。
  - 逻辑：调用核心算法模块的平移函数，更新图元顶点坐标。
- **旋转（Rotate）**：
  - 触发方式：选择“旋转”后，指定旋转中心（可点击画布确定）和旋转角度（对话框输入）。
  - 逻辑：基于旋转中心和角度（顺时针）更新图元顶点坐标。
- **缩放（Scale）**：
  - 触发方式：选择“缩放”后，指定缩放中心和缩放倍数（对话框输入）。
  - 逻辑：按缩放中心和比例更新图元顶点坐标。
- **裁剪（Clip）**：
  - 针对线段图元，支持`Cohen-Sutherland`和`Liang-Barsky`算法。
  - 触发方式：选择“裁剪”后，通过鼠标拖拽确定裁剪窗口，应用对应算法更新线段。


### 3. **补充画布操作（重置、保存、颜色设置）**
- **重置画布（resetCanvas）**：
  - 功能：清空当前所有图元，重置画布尺寸（可固定默认尺寸或允许用户输入）。
  - 实现：清空`item_dict`和列表控件，刷新场景。
- **保存画布（saveCanvas）**：
  - 功能：将当前画布内容保存为`bmp`格式图片。
  - 实现：使用`Pillow`库，将`QGraphicsScene`中的像素数据转换为图像并保存到指定路径（可通过文件对话框选择保存目录）。
- **设置画笔颜色（setColor）**：
  - 功能：允许用户选择`RGB`颜色（通过颜色选择对话框），应用于后续绘制的图元。
  - 实现：维护一个全局颜色变量，图元绘制时使用该颜色。


### 4. **优化图元选择与交互逻辑**
现有代码通过`QListWidget`选择图元，交互体验较差，需补充：
- **画布直接选择**：实现鼠标点击画布图元时的检测逻辑（通过计算鼠标位置与图元边界框/像素的距离），高亮选中图元（如现有代码的红色边框）。
- **状态管理**：明确区分“绘制中”“编辑中”“空闲”等状态，避免操作冲突（例如：绘制多边形时不响应平移操作）。
- **多步绘制支持**：对于多边形、曲线等需要多个控制点的图元，需记录中间状态（如已选择的顶点），并提供取消/完成绘制的交互（如右键结束绘制）。


### 5. **完善菜单栏与交互触发**
现有代码仅实现了“线段-Naive”的菜单绑定，需补充所有菜单动作的槽函数：
- 为“绘制”菜单下的所有子项（如`DDA`线段、`Bresenham`多边形、椭圆、`Bezier`曲线等）绑定触发函数，设置对应的绘制状态。
- 为“编辑”菜单下的平移、旋转、缩放、裁剪等动作绑定函数，触发编辑流程（如弹出参数输入框）。
- 为“文件”菜单下的“设置画笔”“重置画布”“退出”绑定功能，其中“设置画笔”调用颜色选择对话框。


### 6. **适配坐标系统与视觉一致性**
- 确保坐标系统符合要求：以画布左上角为原点（`x`右为正，`y`下为正），绘制时无需额外转换（与`CLI`程序保持一致）。
- 图元编辑后实时刷新：平移、旋转等操作后，立即调用图元的`update()`方法刷新显示，保证视觉反馈及时。


### 7. **错误处理与用户提示**
- 增加状态提示：通过`statusBar`显示当前操作（如“正在绘制椭圆”“请选择旋转中心”）。
- 处理异常情况：如编辑未选中的图元时提示“请先选择图元”，输入无效参数（如负数角度）时弹窗警告。


通过补充以上内容，GUI程序可实现`README.md`中2.2节要求的所有指令功能，满足交互需求并与核心算法模块（`cg_algorithms.py`）正确对接。